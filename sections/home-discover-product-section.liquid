{% schema %}
{
  "name": "Discover product",
  "settings": [
    {
      "type": "image_picker",
      "label": "Image de présentation",
      "id": "image_1"
    },
    {
      "type": "product",
      "id": "selected_product",
      "label": "Produit à afficher"
    }
  ]
}
{% endschema %}

{% assign product_handle = section.settings.selected_product %}
{% assign product = all_products[product_handle] %}

<section class="flex min-h-screen w-full flex-col gap-11 margin-px-1 lg:grid lg:h-screen lg:max-h-screen lg:grid-cols-2 lg:gap-0 lg:py-9">
  <img
    src="{{ section.settings.image_1 | image_url }}"
    alt="{{ product.title }}"
    class="h-full w-full object-cover object-top"
    width="100%"
    height="100%"
  >

  <article class="flex h-full w-full flex-col items-center justify-center gap-8 lg:gap-14">
    <h2 class="text-[16px] font-medium">{{ product.title }}</h2>
    <div class="line-clamp-6 max-w-[40ch] text-center">
      {{ product.description }}
    </div>

    <div class="flex flex-col items-center justify-center gap-4">
      <div class="h-[200px] w-[200px]">
        <img
          src="{{ product.featured_image | image_url }}"
          alt="{{ product.title }}"
          class="h-full w-full object-cover"
          width="100%"
          height="100%"
        >
      </div>
      <p class="max-w-[40ch] text-center">{{ product.metafields.custom.short_description }}</p>
    </div>

    <a
      type="submit"
      href="{{ product.url }}"
      class="w-full max-w-[300px] cursor-pointer bg-neutral-black py-3 text-center text-white hover:bg-neutral-black/80 disabled:bg-neutral-mid-grey"
    >
      {{ 'buttons.discover' | t }}
    </a>
  </article>
</section>
